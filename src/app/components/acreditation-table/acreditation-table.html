<section class="mat-typography">
  <div class="main-button-area">
    <button mat-stroked-button class="main-button" [matMenuTriggerFor]="addMenu"><mat-icon isIconButton>add</mat-icon>ADICIONAR</button>
  </div>
  
  <mat-menu #addMenu="matMenu">
    <button mat-menu-item>
      <!-- <mat-icon>emoji_events</mat-icon> -->
      <span>Acreditação</span>
    </button>
    <button mat-menu-item>
      <!-- <mat-icon>account_tree</mat-icon> -->
      <span>Nível de item</span>
    </button>
    <button mat-menu-item>
      <!-- <mat-icon>playlist_add</mat-icon> -->
      <span>Regra</span>
    </button>
  </mat-menu>
  
  <mat-menu #levelMenu="matMenu">
    <button mat-menu-item>Editar</button>
    <button mat-menu-item>Remover</button>
  </mat-menu>
  
  <mat-menu #ruleMenu="matMenu">
    <button mat-menu-item>Editar</button>
    <button mat-menu-item>Remover</button>
  </mat-menu>

  <mat-list>
    <div mat-list-item class="acreditation" *ngFor="let acreditation of dataSource.acreditations.reverse()">
      <h1>{{acreditation.name}}</h1>
      <table mat-table [dataSource]="acreditation.data" class="mat-elevation-z8">
        <ng-container matColumnDef="answer">
          <th mat-header-cell *matHeaderCellDef>Resposta</th>
          <td mat-cell *matCellDef="let element">
            <mat-chip-list>
              <mat-chip *ngFor="let answer of element.answer" [ngStyle]="{'background-color': '#8A206726'}">
                <!--<img src="https://avatars3.githubusercontent.com/u/18258467?s=460&v=4" matChipAvatar>-->
                <!-- <mat-icon matChipAvatar [ngStyle]="{'color': answer.color }">lens</mat-icon> -->
                <span matChipAvatar [ngStyle]="{'background-color': answer.color, 'border': '1px solid white'}"></span>
                {{answer.name}}
              </mat-chip>
            </mat-chip-list>
          </td>
        </ng-container>

        <ng-container matColumnDef="level1">
          <th mat-header-cell *matHeaderCellDef>Nível 1
            <button mat-icon-button [matMenuTriggerFor]="levelMenu">
              <mat-icon>more_vert</mat-icon>
            </button>
          </th>
          <td mat-cell *matCellDef="let element"> {{element.level1 != '' ? element.level1 : '--'}} </td>
        </ng-container>

        <ng-container matColumnDef="level2">
          <th mat-header-cell *matHeaderCellDef>Nível 2
            <button mat-icon-button [matMenuTriggerFor]="levelMenu">
              <mat-icon>more_vert</mat-icon>
            </button>
          </th>
          <td mat-cell *matCellDef="let element"> {{element.level2 != '' ? element.level2 : '--'}} </td>
        </ng-container>

        <ng-container matColumnDef="level3">
          <th mat-header-cell *matHeaderCellDef>Nível 3
            <button mat-icon-button [matMenuTriggerFor]="levelMenu">
              <mat-icon>more_vert</mat-icon>
            </button>
          </th>
          <td mat-cell *matCellDef="let element"> {{element.level3 != '' ? element.level3 : '--'}} </td>
        </ng-container>

        <ng-container matColumnDef="menu">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef>
            <button mat-icon-button [matMenuTriggerFor]="ruleMenu">
              <mat-icon>more_vert</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </mat-list>
</section>